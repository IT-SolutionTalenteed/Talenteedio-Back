# Dockerfile pour le développement avec hot-reload
FROM node:20-alpine

WORKDIR /app

# Installe nodemon globalement pour le hot-reload
RUN npm install -g nodemon

# Copie les fichiers de dépendances
COPY package*.json yarn.lock ./

# Installe toutes les dépendances (dev incluses)
RUN yarn install

# Expose les ports (app + debug)
EXPOSE 4000 9229

# Commande par défaut (peut être overridée)
CMD ["yarn", "dev"]